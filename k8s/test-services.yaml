apiVersion: v1
kind: Pod
metadata:
  name: test-orders-service
  namespace: microservices-stack
  labels:
    app: orders-service
spec:
  containers:
  - name: test-orders
    image: nginx:alpine
    ports:
    - containerPort: 80
    command: ["/bin/sh", "-c"]
    args:
    - |
      echo "Orders Service Mock" > /usr/share/nginx/html/health
      echo "Orders API endpoint" > /usr/share/nginx/html/api/orders
      nginx -g "daemon off;"
---
apiVersion: v1
kind: Pod
metadata:
  name: test-users-service
  namespace: microservices-stack
  labels:
    app: users-service
spec:
  containers:
  - name: test-users
    image: nginx:alpine
    ports:
    - containerPort: 80
    command: ["/bin/sh", "-c"]
    args:
    - |
      echo "Users Service Mock" > /usr/share/nginx/html/health
      echo "Auth API endpoint" > /usr/share/nginx/html/api/auth
      nginx -g "daemon off;"
